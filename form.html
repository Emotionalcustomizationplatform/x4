<!DOCTYPE html>
<html lang="en" data-lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started | Tell Us About You</title>
<link rel="stylesheet" href="/styles.css">
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #111;
  color: #fff;
  padding-top: 60px;
}
nav {
  position: fixed;
  top: 0;
  width: 100%;
  background: #000;
  z-index: 999;
  padding: 1rem 1.5rem;
  display: flex;
  justify-content: space-between;
}
nav a {
  color: #fff;
  text-decoration: none;
}
.lang-switch-btn { cursor: pointer; }

.registration-form-section {
  max-width: 820px;
  margin: 5rem auto 4rem;
  padding: 2rem;
  background: #1c1c1c;
  border-radius: 14px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
}

h2 {
  text-align: center;
  color: #ffd700;
  font-size: 2rem;
  margin-bottom: 0.5rem;
}

.intro-text {
  text-align: center;
  color: #ccc;
  font-size: 1.05rem;
  margin-bottom: 2.5rem;
  line-height: 1.7;
}

fieldset {
  border: none;
  margin-bottom: 2rem;
}

legend {
  font-size: 1.2rem;
  font-weight: bold;
  color: #ffd700;
  margin-bottom: 1rem;
}

label {
  display: block;
  margin-bottom: 0.3rem;
}

small {
  color: #aaa;
  display: block;
  margin-bottom: 0.6rem;
}

input, select {
  width: 100%;
  padding: 0.7rem;
  border-radius: 6px;
  border: 1px solid #444;
  background: #2a2a2a;
  color: #fff;
}

input:focus, select:focus {
  outline: none;
  border-color: #ffd700;
}

.radio-group label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
}

button {
  width: 100%;
  padding: 0.9rem;
  background: #ffd700;
  color: #000;
  font-size: 1.1rem;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  background: #ffec7f;
}

.success-alert {
  display: none;
  position: fixed;
  top: 1.5rem;
  left: 50%;
  transform: translateX(-50%);
  background: #28a745;
  padding: 1rem 2rem;
  border-radius: 6px;
  font-size: 1rem;
  z-index: 9999;
}
.success-alert.show { display: block; }
</style>
</head>

<body>

<nav>
  <a href="index.html" data-en="← Back" data-zh="← 返回">← Back</a>
  <div>
    <span class="lang-switch-btn" data-target-lang="en">English</span> |
    <span class="lang-switch-btn" data-target-lang="zh">中文</span>
  </div>
</nav>

<div class="success-alert" id="successAlert"></div>

<section class="registration-form-section">
  <h2 data-en="Tell Us What You’re Looking For" data-zh="告诉我们你的需求">
    Tell Us What You’re Looking For
  </h2>

  <p class="intro-text"
     data-en="This is a short, no-pressure form. There is no payment and no obligation. We simply use this to understand your needs and see if we’re a good fit."
     data-zh="这是一个无压力的简短表单，不涉及付款，也不构成任何承诺，仅用于了解你的需求。">
    This is a short, no-pressure form. There is no payment and no obligation.
  </p>

  <form id="registrationForm">

    <fieldset>
      <legend data-en="Basic Information" data-zh="基本信息">Basic Information</legend>

      <label data-en="Your Name" data-zh="你的称呼">Your Name</label>
      <input name="name" required placeholder="How should we call you">

      <label data-en="Email Address" data-zh="电子邮箱">Email Address</label>
      <input type="email" name="email" required placeholder="you@example.com">

      <label data-en="Phone Number (Optional but helpful)" data-zh="手机号码（可选，但有助于联系）">
        Phone Number (Optional but helpful)
      </label>
      <small data-en="Only if you’re comfortable. We respect your privacy."
             data-zh="仅在你愿意的情况下填写，我们尊重你的隐私。">
        Only if you’re comfortable. We respect your privacy.
      </small>
      <input name="phone">
    </fieldset>

    <fieldset>
      <legend data-en="What are you interested in?" data-zh="你对哪项服务感兴趣？">
        What are you interested in?
      </legend>

      <select name="program" required>
        <option value="" disabled selected data-en="Please select" data-zh="请选择">
          Please select
        </option>
        <option value="program1" data-en="Customized Companion" data-zh="定制专属伴侣">
          Customized Companion
        </option>
        <option value="program2" data-en="Learn Chinese" data-zh="学习中文">
          Learn Chinese
        </option>
      </select>
    </fieldset>

    <fieldset>
      <legend data-en="How did you hear about us?" data-zh="你是如何了解我们的？">
        How did you hear about us?
      </legend>

      <div class="radio-group">
        <label><input type="radio" name="source" value="socialMedia" required> Social Media</label>
        <label><input type="radio" name="source" value="friend"> Friend / Referral</label>
        <label><input type="radio" name="source" value="other"> Other</label>
      </div>
    </fieldset>

    <button type="submit"
      data-en="Send & Let’s Talk"
      data-zh="提交并沟通">
      Send & Let’s Talk
    </button>

  </form>
</section>

<footer style="text-align:center;color:#777;font-size:0.9rem;">
© 2025 Customized Companion. All rights reserved.
</footer>

<script>
const form = document.getElementById('registrationForm');
const alertBox = document.getElementById('successAlert');

form.addEventListener('submit', async e => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(form).entries());
  const lang = document.documentElement.getAttribute('data-lang');

  try {
    const res = await fetch('/api/submit-form',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify(data)
    });
    const result = await res.json();

    if(result.success){
      alertBox.textContent = lang==='zh'
        ? '已收到，我们会通过你留下的方式联系你。'
        : 'We’ve received your message. We’ll reach out shortly.';
      alertBox.classList.add('show');
      form.reset();
      setTimeout(()=>alertBox.classList.remove('show'),3000);
    }
  } catch {
    alert(lang==='zh'?'提交失败，请稍后再试':'Submission failed, please try again.');
  }
});

// 语言切换
document.querySelectorAll('.lang-switch-btn').forEach(btn=>{
  btn.onclick=()=>{
    const lang=btn.dataset.targetLang;
    document.documentElement.setAttribute('data-lang',lang);
    document.querySelectorAll('[data-en],[data-zh]').forEach(el=>{
      el.textContent=el.getAttribute(`data-${lang}`);
    });
  };
});
</script>

</body>
</html>